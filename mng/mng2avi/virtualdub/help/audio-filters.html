<html><head><style>body { background: #fff; text-color: #000; font-size: 12pt; padding: 0; margin: 0 } h1 { font-family: Arial, Helvetica; font-size: 20pt; background: #c0e0ff; padding: 0 4px } h2 { font-family: Arial, Helvetica; font-size: 14pt; background: #c0ffe0; padding: 0 4px } td { vertical-align: top } td.pageleft { padding: 4px; background: #e0e0e0 } td.pagetop { font-family: Arial, Helvetica; padding: 0 4px; background: #e0e0e0 } dt { color: #246; margin: 16px 0 6px 4px } .dtitle { font-style: italic } em { font-weight: normal; color: #800 }</style><title>VirtualDub help - Audio filter reference</title></head><body><table width="100%" height="100%" border=0 cellpadding=0 cellspacing=0><tr height=1><td colspan=2 class=pagetop><div style="font-size: 20pt; font-weight: normal; font-decoration: none"> VirtualDub help - Audio filter reference</div></td></tr><tr height="*"><td width="20%" class=pageleft><a href="crash.html">On a crash...</a><br> <p> Dialogs:</p> <a href="d-videofilters.html"> Video filters</a> <br> <a href="d-videoframerate.html"> Video frame rate control</a> <br> <a href="d-videocolordepth.html"> Video color depth</a> <br> <a href="d-videorange.html"> Video range</a> <br> <a href="d-videocompression.html"> Video compression</a> <br> <a href="d-audiofilters.html"> Audio filters</a> <br> <a href="d-audiointerleaving.html"> Audio interleaving</a> <br> <a href="d-audiocompression.html"> Audio compression</a> <br> <a href="d-audioconversion.html"> Audio conversion</a> <br> <a href="d-audiovolume.html"> Audio volume</a> <br> <a href="d-capturesettings.html"> Capture settings</a> <br> <a href="d-capturepreferences.html"> Capture preferences</a> <br> <a href="d-capturevumeter.html"> Capture volume meter</a> <br> <a href="d-preferences.html"> Preferences</a> <br></td><td style="padding: 8px"><table> <tr> <td><a href="#butterfly">butterfly</a></td> <td>Converts between left/right and mid/side stereo channels.</td></tr> <tr> <td><a href="#center cut">center cut</a></td> <td>Extract a center channel from stereo audio.</td></tr> <tr> <td><a href="#center mix">center mix</a></td> <td>Mix a mono stream with a stereo stream.</td></tr> <tr> <td><a href="#discard">discard</a></td> <td>Dump unwanted audio.</td></tr> <tr> <td><a href="#gain">gain</a></td> <td>Modify the volume of audio.</td></tr> <tr> <td><a href="#highpass">highpass</a></td> <td>Cut out sounds below a given frequency.</td></tr> <tr> <td><a href="#input">input</a></td> <td>Pull audio from AVI or WAV source.</td></tr> <tr> <td><a href="#lowpass">lowpass</a></td> <td>Cut out sounds above a given frequency.</td></tr> <tr> <td><a href="#mix">mix</a></td> <td>Add together audio streams.</td></tr> <tr> <td><a href="#output">output</a></td> <td>Sink from graph into output file.</td></tr> <tr> <td><a href="#ratty pitch shift">ratty pitch shift</a></td> <td>Modify the pitch of audio without changing speed.</td></tr> <tr> <td><a href="#resample">resample</a></td> <td>Convert audio to a different sampling frequency.</td></tr> <tr> <td><a href="#split">split</a></td> <td>Split an audio stream into two identical copies.</td></tr> <tr> <td><a href="#stereo chorus">stereo chorus</a></td> <td>Add a chorus effect.</td></tr> <tr> <td><a href="#stereo merge">stereo merge</a></td> <td>Merge two mono streams into a stereo stream.</td></tr> <tr> <td><a href="#stereo split">stereo split</a></td> <td>Split a stereo stream into two mono streams.</td></tr> <tr> <td><a href="#stretch">stretch</a></td> <td>Stretch or contract audio, modifying length and pitch.</td></tr></table> <h2><a name=butterfly>butterfly</a></h2> <ul> <li>Converts between left/right and mid/side stereo channels.</li></ul> <em>Butterfly</em> computes the sum and differences between the left and right channels. This allows stereo algorithms to be applied in mid/side mode -- for instance, <em>butterfly</em> and <em>gain</em> can be used to increase or decrease stereo separation. <em>Bufferfly</em> is its own inverse and can be used to switch to or from mid/side representation. <h2><a name="center cut">center cut</a></h2> <ul> <li>Extract a center channel from stereo audio.</li></ul> <em>Center cut</em> uses FFT phase analysis to guess the sounds of the center channel, then subtracts the channel to produce left/right and center outputs. Because downmixing three arbitrary channels down to two is irreversible, this separation is not perfect and some artifacts may result from the algorithm. <h2><a name="center mix">center mix</a></h2> <ul> <li>Mix a mono stream with a stereo stream.</li></ul> The first input must be the stereo stream, the second the mono. Both must have the same sampling rate. <h2><a name=discard>discard</a></h2> <ul> <li>Dump unwanted audio.</li></ul> Since all pins in an audio filter graph must be connected, use the <em>discard</em> filter to sink any outputs you do not want. <h2><a name=gain>gain</a></h2> <ul> <li>Modify the volume of audio.</li></ul> The amplified or attenuated output is hard clipped, so boosting the gain on an audio stream that is already hits full volume at peak will cause clipping distortion. <h2><a name=highpass>highpass</a></h2> <ul> <li>Cut out sounds below a given frequency.</li></ul> High pass filters are good for simulating tinny transmission media, such as two-way radio. This particular filter uses a 129-point FIR filter; the transition band, the area where the filter tapers off from zero gain to full gain, is about 1.4KHz at a sampling rate of 44KHz. This places some limits on how effective the high pass filter is in some extreme situations. For instance, an ideal high pass filter passes all audio with a cutoff of zero, but this filter will mute some sound up to about 700Hz at 44KHz sample rate. <h2><a name=input>input</a></h2> <ul> <li>Pull audio from AVI or WAV source.</li></ul> <h2><a name=lowpass>lowpass</a></h2> <ul> <li>Cut out sounds above a given frequency.</li></ul> Low pass filters are good for eliminating hiss and other high-frequency noises. This particular filter uses a 129-point FIR filter; the transition band, the area where the filter tapers off from full gain to zero gain, is about 1.4KHz at a sampling rate of 44KHz. This places some limits on how effective the low pass filter is in some extreme situations. For instance, an ideal low pass filter kills all audio with a cutoff of zero, but this filter will give you muted sound up to about 700Hz at 44KHz sample rate. <h2><a name=mix>mix</a></h2> <ul> <li>Add together audio streams.</li></ul> <p> The mix is simple addition with hard clipping, so if you combine the mix with an attenuating gain filter to reduce the post-mix volume, the gain filter should be first. If one input has fewer channels than the other, the lowest N channels common between the two are mixed, and the remaining channels are passed through.</p> <p> You cannot mix two streams that have different sampling rates -- resample one to match the other to do this.</p> <h2><a name=output>output</a></h2> <ul> <li>Sink from graph into output file.</li></ul> You need one of these in any audio filter graph. It automagically morphs into the file output or audio playback filter as appropriate. <h2><a name="ratty pitch shift">ratty pitch shift</a></h2> <ul> <li>Modify the pitch of audio without changing speed.</li></ul> <p> <em>Ratty pitch shift</em> works by stretching or contracting its input, slicing it into small sections, and then overlapping and mixing them. This alters the pitch of the audio without changing its speed; since the frequency spectrum is scaled, harmonics are preserved. When raising pitch, some portions of audio are duplicated, and when lowering pitch, some audio portions are dropped. <em>Ratty pitch shift</em> tries to shift the segments around to reduce artifacts, but occasionally you may hear some hiccups, or duplicated/missing beats. That's why it's ratty, but it's fun to play with. The filter is most effective within about +/-10%.</p> <p> If you combine <em>ratty pitch shift</em> with <em>stretch</em> and use the same ratios for both, you get a time stretcher, which alters the speed of audio without changing its pitch.</p> <h2><a name=resample>resample</a></h2> <ul> <li>Convert audio to a different sampling frequency.</li></ul> This filter uses a 32-phase, 129-tap filter bank to resample audio -- it is higher quality than the <em>Audio | Conversion...</em> option and should be preferred for converting between sampling rates. The transition band is ~1.4KHz at 44KHz sampling rate, and as a result, very sharp downsampling, such as 44KHz to 8KHz, may result in some aliasing. This sounds a bit like a halo. You can reduce the aliasing by applying a low pass filter with a cutoff ~700Hz lower than half the source or half the target sampling rate, whichever is lower. However, this will muffle the sound somewhat. <h2><a name=split>split</a></h2> <ul> <li>Split an audio stream into two identical copies.</li></ul> <h2><a name="stereo chorus">stereo chorus</a></h2> <ul> <li>Add a chorus effect.</li></ul> <p> <em>Stereo chorus</em> mixes audio back into itself with a varying delay of 24-26 ms, controlled by two LFOs at 3.3Hz that are offset by 90&deg;. This adds a bit of stereo separation to sound.</p> <p> You use either mono or stereo sound as input to <em>stereo chorus</em>; when mono is used, it is first duplicated to stereo channels before chorus is added.</p> <h2><a name="stereo merge">stereo merge</a></h2> <ul> <li>Merge two mono streams into a stereo stream.</li></ul> Both streams must have the same sampling rate. <h2><a name="stereo split">stereo split</a></h2> <ul> <li>Split a stereo stream into two mono streams.</li></ul> <h2><a name=stretch>stretch</a></h2> <ul> <li>Stretch or contract audio, modifying length and pitch.</li></ul> This effect is the same that you would get by running an audio tape too fast or too slow -- the audio speeds up and raises pitch, or slows down and becomes grumpy. <em>Stretch</em> uses polyphase resampling and thus doesn't introduce transient artifacts; if you only need to make small adjustments to the length of the audio track, this is a good way to do it. <table border=0 cellpadding=0 cellspacing=0 style="padding: 1px; margin: 16px 0px"> <tr> <td style="padding-right: 20px"><span style="border: 0 solid red; border-bottom-width: 1px">Note</span></td> <td width="*"> <em>Stretch</em> feeds its output at a different rate than it consumes its input, since it changes the speed of audio streams. Audio filter graphs must never combine two branches that run at different speeds -- the result is either unstable seeking or the filter graph freezing up. Be particularly careful of this when creating parallel branches that later merge.</td></tr></table></td></tr></table></body></html>