<html><head><style>body { background: #fff; text-color: #000; font-size: 12pt; padding: 0; margin: 0 } h1 { font-family: Arial, Helvetica; font-size: 20pt; background: #c0e0ff; padding: 0 4px } h2 { font-family: Arial, Helvetica; font-size: 14pt; background: #c0ffe0; padding: 0 4px } td { vertical-align: top } td.pageleft { padding: 4px; background: #e0e0e0 } td.pagetop { font-family: Arial, Helvetica; padding: 0 4px; background: #e0e0e0 } dt { color: #246; margin: 16px 0 6px 4px } .dtitle { font-style: italic } em { font-weight: normal; color: #800 }</style><title>VirtualDub help - Dialogs: Audio interleaving</title></head><body><table width="100%" height="100%" border=0 cellpadding=0 cellspacing=0><tr height=1><td colspan=2 class=pagetop><div style="font-size: 20pt; font-weight: normal; font-decoration: none"> VirtualDub help - Dialogs: Audio interleaving</div></td></tr><tr height="*"><td width="20%" class=pageleft><a href="crash.html">On a crash...</a><br> <p> Dialogs:</p> <a href="d-videofilters.html"> Video filters</a> <br> <a href="d-videoframerate.html"> Video frame rate control</a> <br> <a href="d-videocolordepth.html"> Video color depth</a> <br> <a href="d-videorange.html"> Video range</a> <br> <a href="d-videocompression.html"> Video compression</a> <br> <a href="d-audiofilters.html"> Audio filters</a> <br> <a href="d-audiointerleaving.html"> Audio interleaving</a> <br> <a href="d-audiocompression.html"> Audio compression</a> <br> <a href="d-audioconversion.html"> Audio conversion</a> <br> <a href="d-audiovolume.html"> Audio volume</a> <br> <a href="d-capturesettings.html"> Capture settings</a> <br> <a href="d-capturepreferences.html"> Capture preferences</a> <br> <a href="d-capturevumeter.html"> Capture volume meter</a> <br> <a href="d-preferences.html"> Preferences</a> <br></td><td style="padding: 8px"><blockquote> <img src="pics/d-audiointerleaving.png"></img></blockquote> <p> Although video clips have simultaneous audio and video streams that play at the same time, the files that contain them are a single stream. <em>Interleaving</em> fakes having two streams by slicing the audio and video streams into chunks and mixing them together in chunks by time. A player reading an interleaved file receives a little bit of audio, then a bit of video, and then more audio, etc., buffering them in memory for a short time before playing the two together. VirtualDub's <em>audio interleaving</em> dialog controls how interleaving is performed.</p> <table border=0 cellpadding=0 cellspacing=0 style="padding: 1px; margin: 16px 0px"> <tr> <td style="padding-right: 20px"><span style="border: 0 solid red; border-bottom-width: 1px">Note</span></td> <td width="*"> Audio interleaving has absolutely <i>zero</i> impact on when audio plays -- regardless of how audio and video frames are scattered in an AVI file, they still maintain the same timing relationship, because the index block sequences them properly.</td></tr></table> <table border=0 cellpadding=0 cellspacing=0 style="padding: 1px; margin: 16px 0px"> <tr> <td style="padding-right: 20px"><span style="border: 0 solid red; border-bottom-width: 1px">Note</span></td> <td width="*"> Interleaving audio and video is not necessary unless the file is stored on a medium that streams much more efficiently than it handles random access, such as a CD-ROM drive or transmission over the Internet. High-speed devices such as hard disks can handle playback from non-interleaved files without problem, which is a consideration as interleaving isn't free -- it costs a small amount of overhead in the file size.</td></tr></table> <dl> <dt>Enable audio/video interleaving</dt> <dd> If this option is selected, audio blocks are interleaved between video frames throughout the file. If not, all of the audio is placed at the end.</dd> <dt>Preload</dt> <dd> Players require a certain amount of audio to be buffered ahead of time before starting video playback. The <em>preload</em> option controls how much audio is placed at the beginning of the file before the first video frame, in milliseconds. Usual values for this are 500ms (half second) or 1000ms (full second). If this setting is improperly adjusted, the file may not play optimally on slow computers or slow devices, although with modern video players this is less of a concern.</dd> <dt>Interleave interval</dt> <dd> Controls how often audio blocks are scattered throughout the file -- the shorter the interval, the less buffering required by the player, but the more overhead in the output file. If the interleaving interval is too large, players will have to seek back in forth in the file, which has the worst of both worlds since the interleaving won't allow the player to do large, contiguous reads in the file. Usual values for this option are either interleave once per frame (1 frame) or every half second (500ms).</dd> <dt>Audio skew correction</dt> <dd> This isn't really an interleaving option, and is the only option here that actually does affect audio sync -- but it is here for lack of a better place. Audio delay basically shifts the audio track back and forth, either by dropping samples from the beginning or adding samples at the start (zero for PCM, duplicated first sample for compressed audio). Use this option to shift an audio track into place if it seems a bit off. <table border=0 cellpadding=0 cellspacing=0 style="padding: 1px; margin: 16px 0px"> <tr> <td style="padding-right: 20px"><span style="border: 0 solid red; border-bottom-width: 1px">Note</span></td> <td width="*"> Audio compression may impede use of delays. Some formats, particularly, ADPCM, use large block sizes that will limit the granularity of adjustments. The MP3 format used in AVI, on the other hand, has a hack in its format that prevents applications from seeing the &quot;true&quot; block size of the format. The result is generally junk produced at the beginning of the MP3 stream, which may not produce the desired delay depending on the player. An audio editor specifically designed to edit MPEG audio streams is required in these cases.</td></tr></table></dd></dl></td></tr></table></body></html>