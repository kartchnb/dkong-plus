<html><head><style>body { background: #fff; text-color: #000; font-size: 12pt; padding: 0; margin: 0 } h1 { font-family: Arial, Helvetica; font-size: 20pt; background: #c0e0ff; padding: 0 4px } h2 { font-family: Arial, Helvetica; font-size: 14pt; background: #c0ffe0; padding: 0 4px } td { vertical-align: top } td.pageleft { padding: 4px; background: #e0e0e0 } td.pagetop { font-family: Arial, Helvetica; padding: 0 4px; background: #e0e0e0 } dt { color: #246; margin: 16px 0 6px 4px } .dtitle { font-style: italic } em { font-weight: normal; color: #800 }</style><title>VirtualDub help - Video filter reference</title></head><body><table width="100%" height="100%" border=0 cellpadding=0 cellspacing=0><tr height=1><td colspan=2 class=pagetop><div style="font-size: 20pt; font-weight: normal; font-decoration: none"> VirtualDub help - Video filter reference</div></td></tr><tr height="*"><td width="20%" class=pageleft><a href="crash.html">On a crash...</a><br> <p> Dialogs:</p> <a href="d-videofilters.html"> Video filters</a> <br> <a href="d-videoframerate.html"> Video frame rate control</a> <br> <a href="d-videocolordepth.html"> Video color depth</a> <br> <a href="d-videorange.html"> Video range</a> <br> <a href="d-videocompression.html"> Video compression</a> <br> <a href="d-audiofilters.html"> Audio filters</a> <br> <a href="d-audiointerleaving.html"> Audio interleaving</a> <br> <a href="d-audiocompression.html"> Audio compression</a> <br> <a href="d-audioconversion.html"> Audio conversion</a> <br> <a href="d-audiovolume.html"> Audio volume</a> <br> <a href="d-capturesettings.html"> Capture settings</a> <br> <a href="d-capturepreferences.html"> Capture preferences</a> <br> <a href="d-capturevumeter.html"> Capture volume meter</a> <br> <a href="d-preferences.html"> Preferences</a> <br></td><td style="padding: 8px"><table> <tr> <td><a href="#2:1 reduction">2:1 reduction</a></td> <td>Shrink video to half-size using a non-overlapping 2x2 kernel.</td></tr> <tr> <td><a href="#2:1 reduction (high quality)">2:1 reduction (high quality)</a></td> <td>Shrink video to half-size using an overlapping 3x3 kernel.</td></tr> <tr> <td><a href="#blur">blur</a></td> <td>Apply a radius-1 Gaussian blur to video.</td></tr> <tr> <td><a href="#blur more">blur more</a></td> <td>Apply a radius-2 Gaussian blur to video.</td></tr> <tr> <td><a href="#box blur">box blur</a></td> <td>Apply fast approximated blurs to video.</td></tr> <tr> <td><a href="#brightness/contrast">brightness/contrast</a></td> <td>Perform fast linear luminance adjustments.</td></tr> <tr> <td><a href="#deinterlace">deinterlace</a></td> <td>Split, unsplit, discard, and duplicate fields.</td></tr> <tr> <td><a href="#emboss">emboss</a></td> <td>Apply psuedo-3D edge detection matrices.</td></tr> <tr> <td><a href="#field bob">field bob</a></td> <td>Resamples alternating frames to remove jittering when splitting fields to frames.</td></tr> <tr> <td><a href="#field swap">field swap</a></td> <td>Swaps even and odd fields to fix mistakes.</td></tr> <tr> <td><a href="#fill">fill</a></td> <td>Fills a rectangle in the video with a solid color.</td></tr> <tr> <td><a href="#flip horizontally">flip horizontally</a></td> <td>Flips video frame horizontally.</td></tr> <tr> <td><a href="#flip vertically">flip vertically</a></td> <td>Flips video frame vertically.</td></tr> <tr> <td><a href="#general convolution">general convolution</a></td> <td>Apply an arbitrary 3x3 filtering matrix.</td></tr> <tr> <td><a href="#grayscale">grayscale</a></td> <td>Convert a color video to grayscale.</td></tr> <tr> <td><a href="#HSV adjust">HSV adjust</a></td> <td>Adjust hue, saturation, and value.</td></tr> <tr> <td><a href="#invert">invert</a></td> <td>Create or undo negatives.</td></tr> <tr> <td><a href="#levels">levels</a></td> <td>Apply non-linear ramp adjustments.</td></tr> <tr> <td><a href="#logo">logo</a></td> <td>Plop your very own bug into the frame.</td></tr> <tr> <td><a href="#motion blur">motion blur</a></td> <td>Blur video in time to create motion trails.</td></tr> <tr> <td><a href="#null transform">null transform</a></td> <td>Does nothing, but can be used to crop.</td></tr> <tr> <td><a href="#resize">resize</a></td> <td>Convert video to a different size.</td></tr> <tr> <td><a href="#rotate">rotate</a></td> <td>Rotate video by right angles.</td></tr> <tr> <td><a href="#rotate2">rotate2</a></td> <td>Rotate video by arbitrary angles.</td></tr> <tr> <td><a href="#sharpen">sharpen</a></td> <td>Make video crisper.</td></tr> <tr> <td><a href="#smoother">smoother</a></td> <td>Adaptively blur a video while trying to preserve edges.</td></tr> <tr> <td><a href="#temporal smoother">temporal smoother</a></td> <td>Adaptively noise-reduce video across frames.</td></tr> <tr> <td><a href="#threshold">threshold</a></td> <td>Convert video to black and while by comparing against a threshold.</td></tr> <tr> <td><a href="#TV">TV</a></td> <td>Blur or resample video in luma/chroma space.</td></tr></table> <h2><a name="2:1 reduction">2:1 reduction</a></h2> <ul> <li>Shrink video to half-size using a non-overlapping 2x2 kernel.</li></ul> This filter is equivalent to applying a 2x2 box filter (average 4 pixels) and then doing a point-sampled resize by half. It gives sharper results than <em>2:1 reduction (high quality)</em>, at the cost of some sparkling (aliasing). Where better quality is required, the <em>resize</em> filter should be used in <em>precise bicubic</em> or <em>Lanczos3</em> mode instead. <table border=0 cellpadding=0 cellspacing=0 style="padding: 1px; margin: 16px 0px"> <tr> <td style="padding-right: 20px"><span style="border: 0 solid red; border-bottom-width: 1px">Note</span></td> <td width="*">This filter is deprecated and will be removed in a later version.</td></tr></table> <h2><a name="2:1 reduction (high quality)">2:1 reduction (high quality)</a></h2> <ul> <li>Shrink video to half-size using an overlapping 3x3 kernel.</li></ul> This filter is equivalent to applying a radius-1 Gaussian blur and then doing a point-sampled resize by half. It is marginally better than <em>2:1 reduction</em> in avoiding aliasing (sparkling), at the cost of a blurrier output. Where better quality is required, the <em>resize</em> filter should be used in <em>precise bicubic</em> or <em>Lanczos3</em> mode instead. <table border=0 cellpadding=0 cellspacing=0 style="padding: 1px; margin: 16px 0px"> <tr> <td style="padding-right: 20px"><span style="border: 0 solid red; border-bottom-width: 1px">Note</span></td> <td width="*">This filter is deprecated and will be removed in a later version.</td></tr></table> <h2><a name=blur>blur</a></h2> <ul> <li>Apply a radius-1 Gaussian blur to video.</li></ul> <h2><a name="blur more">blur more</a></h2> <ul> <li>Apply a radius-2 Gaussian blur to video.</li></ul> <h2><a name="box blur">box blur</a></h2> <ul> <li>Apply fast approximated blurs to video.</li></ul> <em>Box blur</em> is so named because it uses &quot;box&quot; filters -- it averages blocks of pixels together. Two passes gives a triangle filter, three gives a quadratic, and four gives a cubic. The advantage of <em>box blur</em> is that it can do very large blurs very quickly, such as radius-50 cubic blur. The main disadvantage is that it cannot do small or intermediate (radius-5.2) blurs. <h2><a name="brightness/contrast">brightness/contrast</a></h2> <ul> <li>Perform fast linear luminance adjustments.</li></ul> <em>Brightness/contrast</em> provides quick and dirty adjustments -- one of the side effects that saturation is affected by contrast, and hues can shift if clamping at white or black occurs. Consider using <em>levels</em> or <em>HSV adjust</em> for non-subtle adjustments. <h2><a name=deinterlace>deinterlace</a></h2> <ul> <li>Split, unsplit, discard, and duplicate fields.</li></ul> This filter applies quick-and-dirty field operations -- discarding one field is a brutal, but quick-and-dirty way to remove combing from the image. For better quality an adaptive deinterlacer should be used instead. The <em>fold</em> and <em>unfold</em> modes allow you to temporarily split a video into a double-width video, with even fields on the left and odd fields on the right. This essentially allows any filter to be applied on a field basis rather than a frame basis, avoiding blurring between fields which shows up as ghosting in interlaced output. <h2><a name=emboss>emboss</a></h2> <ul> <li>Apply psuedo-3D edge detection matrices.</li></ul> <em>Emboss</em> gives a 3D-like effect by &quot;lighting&quot; the video from a particular direction. This highlights edges in the image. It can also be used to amplify a video in order to look for low-level noise. <h2><a name="field bob">field bob</a></h2> <ul> <li>Resamples alternating frames to remove jittering when splitting fields to frames.</li></ul> <h2><a name="field swap">field swap</a></h2> <ul> <li>Swaps even and odd fields to fix mistakes.</li></ul> <h2><a name=fill>fill</a></h2> <ul> <li>Fills a rectangle in the video with a solid color.</li></ul> If you need a translucent (alpha-blended) fill, use the <em>logo</em> filter with a solid color as the logo. <h2><a name="flip horizontally">flip horizontally</a></h2> <ul> <li>Flips video frame horizontally.</li></ul> <h2><a name="flip vertically">flip vertically</a></h2> <ul> <li>Flips video frame vertically.</li></ul> <h2><a name="general convolution">general convolution</a></h2> <ul> <li>Apply an arbitrary 3x3 filtering matrix.</li></ul> <h2><a name=grayscale>grayscale</a></h2> <ul> <li>Convert a color video to grayscale.</li></ul> The formula used for conversion is <tt>Y = 0.211R + 0.715G + 0.074B</tt>. <h2><a name="HSV adjust">HSV adjust</a></h2> <ul> <li>Adjust hue, saturation, and value.</li></ul> You can rotate hues, control the strength of color (saturation), or modify brightness (value) using this filter. <em>HSV adjust</em> does not allow value adjustments to affect hue -- if a pixel becomes too bright or dark, its saturation is reduced accordingly to avoid clamping. This prevents orange, for instance, from becoming hot yellow when the image is amplified. <h2><a name=invert>invert</a></h2> <ul> <li>Create or undo negatives.</li></ul> <h2><a name=levels>levels</a></h2> <ul> <li>Apply non-linear ramp adjustments.</li></ul> <em>Levels</em> does contrast, brightness, and gamma adjustments. It actually consists of three steps: <ol> <li>Scale input range up to full range. The black level and white levels are the first and third parameters on the top; anything lower than the black level becomes black, and anything above the white level becomes white.</li> <li>Apply gamma correction (middle top parameter). You can either type in the gamma correction power, or you can move the slider, which controls which level in the source image becomes middle gray (50%). Black and white always stay black and white through this correction step.</li> <li>Scale to output range (bottom parameters) -- the image levels are finally scaled down to the black and white levels indicated here.</li></ol> You also have the option of working in luma (Y) space. This causes <em>levels</em> to work in brightness (luma) only, leaving color information alone. This preserves hue and saturation in the image, except for possible clipping at black and white. <table border=0 cellpadding=0 cellspacing=0 style="padding: 1px; margin: 16px 0px"> <tr> <td style="padding-right: 20px"><span style="border: 0 solid red; border-bottom-width: 1px">Note</span></td> <td width="*"> <em>Levels</em> always works with full scale levels -- black and white are 0 and 255, not 16 and 235 as in YCbCr space.</td></tr></table> <h2><a name=logo>logo</a></h2> <ul> <li>Plop your very own bug into the frame.</li></ul> <h2><a name="motion blur">motion blur</a></h2> <ul> <li>Blur video in time to create motion trails.</li></ul> <h2><a name="null transform">null transform</a></h2> <ul> <li>Does nothing, but can be used to crop.</li></ul> <h2><a name=resize>resize</a></h2> <ul> <li>Convert video to a different size.</li></ul> When resampling video from one size to another, pixels in the new frame size don't necessarily map exactly to pixels in the source. A <em>resampling filter</em> is used to compute the intermediate pixels from the pixels in the source. VirtualDub's resize filter gives you a number of choices for the resampling filter: <dl> <dt>Nearest neighbor (point sampling)</dt> <dd> Choose the nearest source pixel. This results in the crispest video, but has sparkling and &quot;chunkiness&quot; problems. It is the fastest resampling mode and is useful for previews.</dd> <dt>Bilinear (triangle interpolation filter)</dt> <dd> Compute the desired pixel by linearly averaging the closest four source pixels. This gives a considerably better result than nearest neighbor, but results in a lot of blurring and gives diamond-shaped artifacts when enlarging. This is the resampling mode for most 3D texture mappers and interpolating video hardware overlays. High-ratio shrink operations (&lt;~60% or so) will give aliasing with this mode and for those the <em>precise bilinear</em> mode should be used instead.</dd> <dt>Bicubic (cubic spline interpolation filter)</dt> <dd> Compute the desired pixel by fitting cubic spline curves to the closest 16 source pixels. This gives a sharper result than the bilinear filter, although when enlarging it results in a slight halo (ringing) around edges. High-ratio shrink operations (&lt;~60% or so) will give aliasing with this mode and for those the <em>precise bicubic</em> mode should be used instead.</dd> <dt>Precise bilinear (triangle decimation filter)</dt> <dd> Compute the desired pixel by applying a triangle filter to the closest N source pixels, where N=4 for enlarging and N&gt;4 for shrinking. This mode is the same as <em>bilinear</em> for enlargement but gives better results when shrinking.</dd> <dt>Precise bicubic (cubic spline decimation filter)</dt> <dd> Compute the desired pixel by applying a triangle filter to the closest N source pixels, where N=16 for enlarging and N&gt;16 for shrinking. This mode is the same as <em>bicubic</em> for enlargement but gives better results when shrinking. Three different modes are given, A=-1.0, A=-.75, and A=-0.6. These vary the &quot;stiffness&quot; of the cubic spline and control the peaking of the filter, which perceptually alters the sharpness of the output. A=-0.6 gives the most consistent results mathematically, but the other modes may produce more visually pleasing results.</dd> <dt>Lanczos3 (three-lobed decimation filter)</dt> <dd> Compute the desired pixel by applying a three-lobed sinc filter to the closest N source pixels, where N=64 for enlarging and N&gt;64 for shrinking. This produces slightly better results than the <em>precise bicubic</em> mode, at the expense of slower speed and more haloing (ringing). However, for a single pass the difference is very small and you should consider using <em>precise bicubic</em> instead.</dd></dl> The <em>resize</em> filter uses OpenGL conventions for pixel mapping, mapping the entire source texture onto the entire destination rect. Areas in the image are proportionally enlarged or shrunk with the picture frame: enlarging the frame 2x results in all features in the image being twice as large. This means that high enlargement ratios will result in some duplicated pixels around the border of the destination image (U/V clamping). <h2><a name=rotate>rotate</a></h2> <ul> <li>Rotate video by right angles.</li></ul> <h2><a name=rotate2>rotate2</a></h2> <ul> <li>Rotate video by arbitrary angles.</li></ul> <p> While <em>rotate2</em> can be used for right-angle rotations, that job should be left to <em>rotate</em>, which can do them faster and more accurately.</p> <p> <em>rotate2</em> is equivalent to a 1:1 texture-mapped quad, rotated around the center point of the quad by the designated angle, with linear or cubic spline interpolation filters applied to the texture mapping.</p> <h2><a name=sharpen>sharpen</a></h2> <ul> <li>Make video crisper.</li></ul> <em>Sharpen</em> cannot distinguish between artifacts, noise, and edges -- so sharpening edges with this filter will also make blocking and noise worse. Thus, there is a limit to how much video can be improved with sharpening, particularly highly-compressed or noisy video. <h2><a name=smoother>smoother</a></h2> <ul> <li>Adaptively blur a video while trying to preserve edges.</li></ul> <h2><a name="temporal smoother">temporal smoother</a></h2> <ul> <li>Adaptively noise-reduce video across frames.</li></ul> A <em>temporal</em> filter is one that works along time -- <em>temporal smoother</em> doesn't compare pixels within a frame, but across a 7-frame window. It is effective at reducing noise, but for best effect, it should be combined with a filter that works within a frame (spatial filter). Raising the power of the filter increases the amount of noise reduction but can also result in smearing of details when motion occurs as well as sparkling during transitions. It works best with a setting of 3-5. <h2><a name=threshold>threshold</a></h2> <ul> <li>Convert video to black and while by comparing against a threshold.</li></ul> <h2><a name=TV>TV</a></h2> <ul> <li>Blur or resample video in luma/chroma space.</li></ul> Due to the way that analog video encoding works, the color information in the video (chroma) typically has lower resolution and more noise than the brightness information (luma). This problem is especially severe with videotape. The <em>TV</em> filter can reduce chroma noise by averaging only the chroma, while leaving the luma alone. This can reduce color flickering in a video, but should be used carefully as too much chroma blurring will lead to bleeding.</td></tr></table></body></html>